{"numFailedTestSuites":0,"numFailedTests":0,"numPassedTestSuites":7,"numPassedTests":228,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":7,"numTotalTests":228,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1772013763723,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["RealtimeMarketPriceRepository"],"duration":34,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RealtimeMarketPriceRepository should store and retrieve ticker data","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766257,"status":"passed","title":"should store and retrieve ticker data"},{"ancestorTitles":["RealtimeMarketPriceRepository"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RealtimeMarketPriceRepository should return undefined for non-existent symbol","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766292,"status":"passed","title":"should return undefined for non-existent symbol"},{"ancestorTitles":["RealtimeMarketPriceRepository"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RealtimeMarketPriceRepository should return numeric bid and ask prices","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766298,"status":"passed","title":"should return numeric bid and ask prices"},{"ancestorTitles":["RealtimeMarketPriceRepository"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RealtimeMarketPriceRepository should return 0 for bid/ask if symbol not cached","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766304,"status":"passed","title":"should return 0 for bid/ask if symbol not cached"},{"ancestorTitles":["RealtimeMarketPriceRepository"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RealtimeMarketPriceRepository should update existing ticker data","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766310,"status":"passed","title":"should update existing ticker data"}],"endTime":1772013766325,"message":"","name":"C:\\Users\\nakam\\Developers\\exodia-core\\src\\repositories\\cache\\__tests__\\realtime-market-price.cache.spec.ts","startTime":1772013764677,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["NonceRepository","buildNonceInfo"],"duration":29,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NonceRepository buildNonceInfo should build nonce info with lowercased wallet","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766252,"status":"passed","title":"should build nonce info with lowercased wallet"},{"ancestorTitles":["NonceRepository","buildNonceInfo"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NonceRepository buildNonceInfo should call generateNonce","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766282,"status":"passed","title":"should call generateNonce"},{"ancestorTitles":["NonceRepository","upsert"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NonceRepository upsert should store nonce in Redis with TTL","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766293,"status":"passed","title":"should store nonce in Redis with TTL"},{"ancestorTitles":["NonceRepository","upsert"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NonceRepository upsert should overwrite existing nonce for same wallet","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766302,"status":"passed","title":"should overwrite existing nonce for same wallet"},{"ancestorTitles":["NonceRepository","upsert"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NonceRepository upsert should return the generated nonce info","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766313,"status":"passed","title":"should return the generated nonce info"},{"ancestorTitles":["NonceRepository","findValid"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NonceRepository findValid should return nonce info if found in Redis","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766327,"status":"passed","title":"should return nonce info if found in Redis"},{"ancestorTitles":["NonceRepository","findValid"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NonceRepository findValid should return null if nonce not found (expired or never set)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766334,"status":"passed","title":"should return null if nonce not found (expired or never set)"},{"ancestorTitles":["NonceRepository","findValid"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NonceRepository findValid should lowercase wallet address for key lookup","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766337,"status":"passed","title":"should lowercase wallet address for key lookup"},{"ancestorTitles":["NonceRepository","delete"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NonceRepository delete should delete nonce from Redis","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766341,"status":"passed","title":"should delete nonce from Redis"},{"ancestorTitles":["NonceRepository","delete"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NonceRepository delete should lowercase wallet address for key","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766349,"status":"passed","title":"should lowercase wallet address for key"},{"ancestorTitles":["NonceRepository","delete"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NonceRepository delete should return void","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766353,"status":"passed","title":"should return void"}],"endTime":1772013766358,"message":"","name":"C:\\Users\\nakam\\Developers\\exodia-core\\src\\repositories\\cache\\__tests__\\nonce.cache.spec.ts","startTime":1772013764681,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["MarketHistoryCacheRepository","getCandles"],"duration":33,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MarketHistoryCacheRepository getCandles should return empty array when cache is empty","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766285,"status":"passed","title":"should return empty array when cache is empty"},{"ancestorTitles":["MarketHistoryCacheRepository","getCandles"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MarketHistoryCacheRepository getCandles should return parsed candles when cache has data","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766319,"status":"passed","title":"should return parsed candles when cache has data"},{"ancestorTitles":["MarketHistoryCacheRepository","getCandles"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MarketHistoryCacheRepository getCandles should renew TTL on cache hit","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766326,"status":"passed","title":"should renew TTL on cache hit"},{"ancestorTitles":["MarketHistoryCacheRepository","getCandles"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MarketHistoryCacheRepository getCandles should use correct key format","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766335,"status":"passed","title":"should use correct key format"},{"ancestorTitles":["MarketHistoryCacheRepository","getCandles"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MarketHistoryCacheRepository getCandles should use \"before\" as exclusive upper bound when provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766340,"status":"passed","title":"should use \"before\" as exclusive upper bound when provided"},{"ancestorTitles":["MarketHistoryCacheRepository","addCandles"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MarketHistoryCacheRepository addCandles should do nothing when candles array is empty","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766346,"status":"passed","title":"should do nothing when candles array is empty"},{"ancestorTitles":["MarketHistoryCacheRepository","addCandles"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MarketHistoryCacheRepository addCandles should store candles with timestamp as score","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766353,"status":"passed","title":"should store candles with timestamp as score"},{"ancestorTitles":["MarketHistoryCacheRepository","addCandles"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MarketHistoryCacheRepository addCandles should trim old candles when exceeding max limit","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766359,"status":"passed","title":"should trim old candles when exceeding max limit"},{"ancestorTitles":["MarketHistoryCacheRepository","addCandles"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MarketHistoryCacheRepository addCandles should not trim when under max limit","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766364,"status":"passed","title":"should not trim when under max limit"},{"ancestorTitles":["MarketHistoryCacheRepository","addCandles"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MarketHistoryCacheRepository addCandles should set TTL after adding candles","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766372,"status":"passed","title":"should set TTL after adding candles"},{"ancestorTitles":["MarketHistoryCacheRepository","acquireLock"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MarketHistoryCacheRepository acquireLock should return true when lock is acquired successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766377,"status":"passed","title":"should return true when lock is acquired successfully"},{"ancestorTitles":["MarketHistoryCacheRepository","acquireLock"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MarketHistoryCacheRepository acquireLock should return false when lock is already held","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766379,"status":"passed","title":"should return false when lock is already held"},{"ancestorTitles":["MarketHistoryCacheRepository","releaseLock"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MarketHistoryCacheRepository releaseLock should delete the lock key","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766382,"status":"passed","title":"should delete the lock key"}],"endTime":1772013766391,"message":"","name":"C:\\Users\\nakam\\Developers\\exodia-core\\src\\repositories\\cache\\__tests__\\market-history.cache.spec.ts","startTime":1772013764667,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PairRepository","findAllActive"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository findAllActive should return all active pairs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766503,"status":"passed","title":"should return all active pairs"},{"ancestorTitles":["PairRepository","findAllActive"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository findAllActive should return empty array when no active pairs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766512,"status":"passed","title":"should return empty array when no active pairs"},{"ancestorTitles":["PairRepository","findByInstId"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository findByInstId should return pair by instId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766513,"status":"passed","title":"should return pair by instId"},{"ancestorTitles":["PairRepository","findByInstId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository findByInstId should return null when pair not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766514,"status":"passed","title":"should return null when pair not found"},{"ancestorTitles":["PairRepository","findById"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository findById should return pair by MongoDB _id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766515,"status":"passed","title":"should return pair by MongoDB _id"},{"ancestorTitles":["PairRepository","findById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository findById should return null when id does not exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766516,"status":"passed","title":"should return null when id does not exist"},{"ancestorTitles":["PairRepository","findAll"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository findAll should return all pairs (active and inactive)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766516,"status":"passed","title":"should return all pairs (active and inactive)"},{"ancestorTitles":["PairRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository findAll should return empty array when no pairs exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766518,"status":"passed","title":"should return empty array when no pairs exist"},{"ancestorTitles":["PairRepository","findAllPaginated"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository findAllPaginated should return paginated results with default params","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766519,"status":"passed","title":"should return paginated results with default params"},{"ancestorTitles":["PairRepository","findAllPaginated"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository findAllPaginated should apply instId filter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766523,"status":"passed","title":"should apply instId filter"},{"ancestorTitles":["PairRepository","findAllPaginated"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository findAllPaginated should apply isActive filter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766526,"status":"passed","title":"should apply isActive filter"},{"ancestorTitles":["PairRepository","findAllPaginated"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository findAllPaginated should apply minLeverage and maxLeverage filters","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766527,"status":"passed","title":"should apply minLeverage and maxLeverage filters"},{"ancestorTitles":["PairRepository","findAllPaginated"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository findAllPaginated should apply only minLeverage when maxLeverage is absent","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766529,"status":"passed","title":"should apply only minLeverage when maxLeverage is absent"},{"ancestorTitles":["PairRepository","findAllPaginated"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository findAllPaginated should calculate correct skip for page 2 with limit 5","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766530,"status":"passed","title":"should calculate correct skip for page 2 with limit 5"},{"ancestorTitles":["PairRepository","count"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository count should count all pairs with empty filter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766532,"status":"passed","title":"should count all pairs with empty filter"},{"ancestorTitles":["PairRepository","count"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository count should count pairs matching filter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766533,"status":"passed","title":"should count pairs matching filter"},{"ancestorTitles":["PairRepository","upsert"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository upsert should upsert pair data","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766534,"status":"passed","title":"should upsert pair data"},{"ancestorTitles":["PairRepository","upsert"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository upsert should create new pair if not exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766536,"status":"passed","title":"should create new pair if not exists"},{"ancestorTitles":["PairRepository","updateStatus"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository updateStatus should deactivate a pair","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766537,"status":"passed","title":"should deactivate a pair"},{"ancestorTitles":["PairRepository","updateStatus"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository updateStatus should activate a pair","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766538,"status":"passed","title":"should activate a pair"},{"ancestorTitles":["PairRepository","updateStatus"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository updateStatus should return null when pair not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766539,"status":"passed","title":"should return null when pair not found"},{"ancestorTitles":["PairRepository","delete"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository delete should delete a pair by instId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766540,"status":"passed","title":"should delete a pair by instId"},{"ancestorTitles":["PairRepository","delete"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository delete should return deletedCount 0 if pair not found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766542,"status":"passed","title":"should return deletedCount 0 if pair not found"},{"ancestorTitles":["PairRepository","updatePair"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository updatePair should update partial pair data with $set","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766548,"status":"passed","title":"should update partial pair data with $set"},{"ancestorTitles":["PairRepository","updatePair"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository updatePair should allow updating a single field","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766548,"status":"passed","title":"should allow updating a single field"},{"ancestorTitles":["PairRepository","updatePair"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository updatePair should return null when pair not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766549,"status":"passed","title":"should return null when pair not found"},{"ancestorTitles":["PairRepository","setMaxLeverage"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository setMaxLeverage should set maxLeverage for a pair","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766550,"status":"passed","title":"should set maxLeverage for a pair"},{"ancestorTitles":["PairRepository","setMaxLeverage"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository setMaxLeverage should return null when pair not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766550,"status":"passed","title":"should return null when pair not found"},{"ancestorTitles":["PairRepository","setFeeRates"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository setFeeRates should set both openFeeRate and closeFeeRate","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766551,"status":"passed","title":"should set both openFeeRate and closeFeeRate"},{"ancestorTitles":["PairRepository","setFeeRates"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository setFeeRates should return null when pair not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766552,"status":"passed","title":"should return null when pair not found"},{"ancestorTitles":["PairRepository","setMinimums"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository setMinimums should set both minVolume and minAmount","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766553,"status":"passed","title":"should set both minVolume and minAmount"},{"ancestorTitles":["PairRepository","setMinimums"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository setMinimums should return null when pair not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766554,"status":"passed","title":"should return null when pair not found"},{"ancestorTitles":["PairRepository","bulkActivate"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository bulkActivate should activate multiple pairs and return modifiedCount","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766555,"status":"passed","title":"should activate multiple pairs and return modifiedCount"},{"ancestorTitles":["PairRepository","bulkActivate"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository bulkActivate should return 0 when no pairs matched","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766556,"status":"passed","title":"should return 0 when no pairs matched"},{"ancestorTitles":["PairRepository","bulkActivate"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository bulkActivate should handle empty array","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766557,"status":"passed","title":"should handle empty array"},{"ancestorTitles":["PairRepository","bulkDeactivate"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository bulkDeactivate should deactivate multiple pairs and return modifiedCount","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766560,"status":"passed","title":"should deactivate multiple pairs and return modifiedCount"},{"ancestorTitles":["PairRepository","bulkDeactivate"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository bulkDeactivate should return 0 when no pairs matched","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766561,"status":"passed","title":"should return 0 when no pairs matched"},{"ancestorTitles":["PairRepository","bulkDelete"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository bulkDelete should delete multiple pairs and return deletedCount","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766562,"status":"passed","title":"should delete multiple pairs and return deletedCount"},{"ancestorTitles":["PairRepository","bulkDelete"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository bulkDelete should return 0 when no pairs matched","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766563,"status":"passed","title":"should return 0 when no pairs matched"},{"ancestorTitles":["PairRepository","bulkDelete"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PairRepository bulkDelete should handle empty array","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766563,"status":"passed","title":"should handle empty array"}],"endTime":1772013766570,"message":"","name":"C:\\Users\\nakam\\Developers\\exodia-core\\src\\repositories\\pair\\__tests__\\pair.repository.spec.ts","startTime":1772013764635,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["UserRepository","findByWallet"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findByWallet should return user by wallet address (lowercased)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766503,"status":"passed","title":"should return user by wallet address (lowercased)"},{"ancestorTitles":["UserRepository","findByWallet"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findByWallet should return null when user not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766512,"status":"passed","title":"should return null when user not found"},{"ancestorTitles":["UserRepository","findByWallet"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findByWallet should not return soft-deleted users","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766513,"status":"passed","title":"should not return soft-deleted users"},{"ancestorTitles":["UserRepository","findById"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findById should return user by MongoDB _id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766514,"status":"passed","title":"should return user by MongoDB _id"},{"ancestorTitles":["UserRepository","findById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findById should return null when id does not exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766515,"status":"passed","title":"should return null when id does not exist"},{"ancestorTitles":["UserRepository","findById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findById should exclude soft-deleted users","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766516,"status":"passed","title":"should exclude soft-deleted users"},{"ancestorTitles":["UserRepository","findAll"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findAll should return paginated results with default params","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766516,"status":"passed","title":"should return paginated results with default params"},{"ancestorTitles":["UserRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findAll should apply walletAddress filter (lowercased)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766518,"status":"passed","title":"should apply walletAddress filter (lowercased)"},{"ancestorTitles":["UserRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findAll should apply role filter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766519,"status":"passed","title":"should apply role filter"},{"ancestorTitles":["UserRepository","findAll"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findAll should apply isActive filter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766520,"status":"passed","title":"should apply isActive filter"},{"ancestorTitles":["UserRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findAll should apply chainId filter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766522,"status":"passed","title":"should apply chainId filter"},{"ancestorTitles":["UserRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findAll should exclude soft-deleted users","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766524,"status":"passed","title":"should exclude soft-deleted users"},{"ancestorTitles":["UserRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findAll should calculate correct skip for page 3 with limit 10","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766525,"status":"passed","title":"should calculate correct skip for page 3 with limit 10"},{"ancestorTitles":["UserRepository","findAllIncludeDeleted"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findAllIncludeDeleted should return all users including soft-deleted","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766527,"status":"passed","title":"should return all users including soft-deleted"},{"ancestorTitles":["UserRepository","findAllIncludeDeleted"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findAllIncludeDeleted should NOT include deletedAt filter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766528,"status":"passed","title":"should NOT include deletedAt filter"},{"ancestorTitles":["UserRepository","findAllIncludeDeleted"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findAllIncludeDeleted should apply walletAddress filter (lowercased)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766530,"status":"passed","title":"should apply walletAddress filter (lowercased)"},{"ancestorTitles":["UserRepository","findAllIncludeDeleted"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findAllIncludeDeleted should apply role filter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766531,"status":"passed","title":"should apply role filter"},{"ancestorTitles":["UserRepository","findAllIncludeDeleted"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository findAllIncludeDeleted should calculate correct pagination","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766532,"status":"passed","title":"should calculate correct pagination"},{"ancestorTitles":["UserRepository","count"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository count should count active (non-deleted) users with empty filter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766541,"status":"passed","title":"should count active (non-deleted) users with empty filter"},{"ancestorTitles":["UserRepository","count"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository count should count users matching filter (merged with baseQuery)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766546,"status":"passed","title":"should count users matching filter (merged with baseQuery)"},{"ancestorTitles":["UserRepository","create"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository create should create a new user with lowercased wallet","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766548,"status":"passed","title":"should create a new user with lowercased wallet"},{"ancestorTitles":["UserRepository","create"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository create should create user without chainId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766549,"status":"passed","title":"should create user without chainId"},{"ancestorTitles":["UserRepository","upsert"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository upsert should upsert user data with lowercased wallet","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766550,"status":"passed","title":"should upsert user data with lowercased wallet"},{"ancestorTitles":["UserRepository","upsert"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository upsert should create new user if not exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766551,"status":"passed","title":"should create new user if not exists"},{"ancestorTitles":["UserRepository","softDelete"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository softDelete should set deletedAt and deactivate user","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766551,"status":"passed","title":"should set deletedAt and deactivate user"},{"ancestorTitles":["UserRepository","softDelete"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository softDelete should lowercase wallet address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766557,"status":"passed","title":"should lowercase wallet address"},{"ancestorTitles":["UserRepository","softDelete"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository softDelete should return void","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766561,"status":"passed","title":"should return void"},{"ancestorTitles":["UserRepository","restore"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository restore should restore user by clearing deletedAt and activating","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766562,"status":"passed","title":"should restore user by clearing deletedAt and activating"},{"ancestorTitles":["UserRepository","restore"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository restore should lowercase wallet address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766563,"status":"passed","title":"should lowercase wallet address"},{"ancestorTitles":["UserRepository","restore"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository restore should return void","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766564,"status":"passed","title":"should return void"},{"ancestorTitles":["UserRepository","updateUser"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository updateUser should update partial user data with $set","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766565,"status":"passed","title":"should update partial user data with $set"},{"ancestorTitles":["UserRepository","updateUser"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository updateUser should allow updating multiple fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766566,"status":"passed","title":"should allow updating multiple fields"},{"ancestorTitles":["UserRepository","updateUser"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository updateUser should return null when user not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766567,"status":"passed","title":"should return null when user not found"},{"ancestorTitles":["UserRepository","updateUser"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository updateUser should lowercase wallet address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766567,"status":"passed","title":"should lowercase wallet address"},{"ancestorTitles":["UserRepository","setRole"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository setRole should set user role to admin","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766568,"status":"passed","title":"should set user role to admin"},{"ancestorTitles":["UserRepository","setRole"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository setRole should set user role to user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766569,"status":"passed","title":"should set user role to user"},{"ancestorTitles":["UserRepository","setRole"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository setRole should return null when user not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766570,"status":"passed","title":"should return null when user not found"},{"ancestorTitles":["UserRepository","setRole"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository setRole should lowercase wallet address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766571,"status":"passed","title":"should lowercase wallet address"},{"ancestorTitles":["UserRepository","activate"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository activate should set isActive to true","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766572,"status":"passed","title":"should set isActive to true"},{"ancestorTitles":["UserRepository","activate"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository activate should return null when user not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766573,"status":"passed","title":"should return null when user not found"},{"ancestorTitles":["UserRepository","activate"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository activate should lowercase wallet address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766573,"status":"passed","title":"should lowercase wallet address"},{"ancestorTitles":["UserRepository","deactivate"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository deactivate should set isActive to false","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766574,"status":"passed","title":"should set isActive to false"},{"ancestorTitles":["UserRepository","deactivate"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository deactivate should return null when user not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766575,"status":"passed","title":"should return null when user not found"},{"ancestorTitles":["UserRepository","deactivate"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository deactivate should lowercase wallet address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766576,"status":"passed","title":"should lowercase wallet address"},{"ancestorTitles":["UserRepository","hardDelete"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository hardDelete should return true when user is deleted","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766577,"status":"passed","title":"should return true when user is deleted"},{"ancestorTitles":["UserRepository","hardDelete"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository hardDelete should return false when user does not exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766577,"status":"passed","title":"should return false when user does not exist"},{"ancestorTitles":["UserRepository","hardDelete"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserRepository hardDelete should lowercase wallet address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766578,"status":"passed","title":"should lowercase wallet address"}],"endTime":1772013766580,"message":"","name":"C:\\Users\\nakam\\Developers\\exodia-core\\src\\repositories\\user\\__tests__\\user.repository.spec.ts","startTime":1772013764637,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PositionRepository","findById"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findById should return position by id (not soft-deleted)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766505,"status":"passed","title":"should return position by id (not soft-deleted)"},{"ancestorTitles":["PositionRepository","findById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findById should return null when position not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766513,"status":"passed","title":"should return null when position not found"},{"ancestorTitles":["PositionRepository","findById"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findById should not return soft-deleted positions","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766513,"status":"passed","title":"should not return soft-deleted positions"},{"ancestorTitles":["PositionRepository","findByWallet"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findByWallet should return all positions for a wallet (lowercased)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766515,"status":"passed","title":"should return all positions for a wallet (lowercased)"},{"ancestorTitles":["PositionRepository","findByWallet"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findByWallet should return empty array when no positions found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766516,"status":"passed","title":"should return empty array when no positions found"},{"ancestorTitles":["PositionRepository","findActiveByWallet"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findActiveByWallet should return pending and open positions only","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766517,"status":"passed","title":"should return pending and open positions only"},{"ancestorTitles":["PositionRepository","findActiveByWallet"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findActiveByWallet should lowercase the wallet address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766518,"status":"passed","title":"should lowercase the wallet address"},{"ancestorTitles":["PositionRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findAll should return paginated results with default params","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766519,"status":"passed","title":"should return paginated results with default params"},{"ancestorTitles":["PositionRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findAll should apply walletAddress filter (lowercased)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766521,"status":"passed","title":"should apply walletAddress filter (lowercased)"},{"ancestorTitles":["PositionRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findAll should apply symbol filter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766522,"status":"passed","title":"should apply symbol filter"},{"ancestorTitles":["PositionRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findAll should apply side filter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766524,"status":"passed","title":"should apply side filter"},{"ancestorTitles":["PositionRepository","findAll"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findAll should apply type filter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766525,"status":"passed","title":"should apply type filter"},{"ancestorTitles":["PositionRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findAll should apply status filter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766527,"status":"passed","title":"should apply status filter"},{"ancestorTitles":["PositionRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findAll should calculate correct skip for page 3 with limit 10","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766528,"status":"passed","title":"should calculate correct skip for page 3 with limit 10"},{"ancestorTitles":["PositionRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findAll should exclude soft-deleted positions","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766530,"status":"passed","title":"should exclude soft-deleted positions"},{"ancestorTitles":["PositionRepository","findAllIncludeDeleted"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findAllIncludeDeleted should return all positions including soft-deleted","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766532,"status":"passed","title":"should return all positions including soft-deleted"},{"ancestorTitles":["PositionRepository","findAllIncludeDeleted"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findAllIncludeDeleted should NOT include deletedAt filter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766535,"status":"passed","title":"should NOT include deletedAt filter"},{"ancestorTitles":["PositionRepository","findAllIncludeDeleted"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findAllIncludeDeleted should apply walletAddress filter (lowercased)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766548,"status":"passed","title":"should apply walletAddress filter (lowercased)"},{"ancestorTitles":["PositionRepository","findAllIncludeDeleted"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository findAllIncludeDeleted should apply symbol and status filters","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766549,"status":"passed","title":"should apply symbol and status filters"},{"ancestorTitles":["PositionRepository","count"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository count should count non-deleted positions with empty filter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766550,"status":"passed","title":"should count non-deleted positions with empty filter"},{"ancestorTitles":["PositionRepository","count"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository count should count positions matching filter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766551,"status":"passed","title":"should count positions matching filter"},{"ancestorTitles":["PositionRepository","create"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository create should create a new position with lowercased wallet","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766552,"status":"passed","title":"should create a new position with lowercased wallet"},{"ancestorTitles":["PositionRepository","create"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository create should pass all position data to model","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766553,"status":"passed","title":"should pass all position data to model"},{"ancestorTitles":["PositionRepository","update"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository update should update position with partial data","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766553,"status":"passed","title":"should update position with partial data"},{"ancestorTitles":["PositionRepository","update"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository update should return null if position not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766555,"status":"passed","title":"should return null if position not found"},{"ancestorTitles":["PositionRepository","update"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository update should not update soft-deleted positions","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766556,"status":"passed","title":"should not update soft-deleted positions"},{"ancestorTitles":["PositionRepository","close"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository close should close position with pnl, exitPrice and closeFee","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766557,"status":"passed","title":"should close position with pnl, exitPrice and closeFee"},{"ancestorTitles":["PositionRepository","close"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository close should default closeFee to 0 if not provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766565,"status":"passed","title":"should default closeFee to 0 if not provided"},{"ancestorTitles":["PositionRepository","close"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository close should return null if position not found for close","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766566,"status":"passed","title":"should return null if position not found for close"},{"ancestorTitles":["PositionRepository","softDelete"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository softDelete should set deletedAt to current date","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766567,"status":"passed","title":"should set deletedAt to current date"},{"ancestorTitles":["PositionRepository","softDelete"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository softDelete should return void","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766570,"status":"passed","title":"should return void"},{"ancestorTitles":["PositionRepository","setSlTp"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository setSlTp should set sl and tp values","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766571,"status":"passed","title":"should set sl and tp values"},{"ancestorTitles":["PositionRepository","setSlTp"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository setSlTp should allow setting sl/tp to null (remove)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766572,"status":"passed","title":"should allow setting sl/tp to null (remove)"},{"ancestorTitles":["PositionRepository","setSlTp"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository setSlTp should return null when position not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766573,"status":"passed","title":"should return null when position not found"},{"ancestorTitles":["PositionRepository","setLeverage"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository setLeverage should set leverage for a position","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766574,"status":"passed","title":"should set leverage for a position"},{"ancestorTitles":["PositionRepository","setLeverage"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository setLeverage should return null when position not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766575,"status":"passed","title":"should return null when position not found"},{"ancestorTitles":["PositionRepository","setStatus"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository setStatus should set status to closed","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766576,"status":"passed","title":"should set status to closed"},{"ancestorTitles":["PositionRepository","setStatus"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository setStatus should set status to pending","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766577,"status":"passed","title":"should set status to pending"},{"ancestorTitles":["PositionRepository","setStatus"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository setStatus should return null when position not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766577,"status":"passed","title":"should return null when position not found"},{"ancestorTitles":["PositionRepository","setEntryPrice"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository setEntryPrice should set entryPrice for a position","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766578,"status":"passed","title":"should set entryPrice for a position"},{"ancestorTitles":["PositionRepository","setEntryPrice"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository setEntryPrice should return null when position not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766579,"status":"passed","title":"should return null when position not found"},{"ancestorTitles":["PositionRepository","setPnl"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository setPnl should set pnl for a position","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766579,"status":"passed","title":"should set pnl for a position"},{"ancestorTitles":["PositionRepository","setPnl"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository setPnl should allow negative pnl","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766579,"status":"passed","title":"should allow negative pnl"},{"ancestorTitles":["PositionRepository","setPnl"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository setPnl should return null when position not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766580,"status":"passed","title":"should return null when position not found"},{"ancestorTitles":["PositionRepository","adminUpdate"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository adminUpdate should update multiple fields with $set","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766580,"status":"passed","title":"should update multiple fields with $set"},{"ancestorTitles":["PositionRepository","adminUpdate"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository adminUpdate should allow updating a single field","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766580,"status":"passed","title":"should allow updating a single field"},{"ancestorTitles":["PositionRepository","adminUpdate"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository adminUpdate should return null when position not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766581,"status":"passed","title":"should return null when position not found"},{"ancestorTitles":["PositionRepository","adminUpdate"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository adminUpdate should exclude soft-deleted positions","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766581,"status":"passed","title":"should exclude soft-deleted positions"},{"ancestorTitles":["PositionRepository","restore"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository restore should clear deletedAt for a position","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766581,"status":"passed","title":"should clear deletedAt for a position"},{"ancestorTitles":["PositionRepository","restore"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository restore should return void","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766582,"status":"passed","title":"should return void"},{"ancestorTitles":["PositionRepository","hardDelete"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository hardDelete should return true when position is deleted","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766582,"status":"passed","title":"should return true when position is deleted"},{"ancestorTitles":["PositionRepository","hardDelete"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository hardDelete should return false when position does not exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766583,"status":"passed","title":"should return false when position does not exist"},{"ancestorTitles":["PositionRepository","bulkClose"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository bulkClose should close multiple positions with default pnl=0","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766584,"status":"passed","title":"should close multiple positions with default pnl=0"},{"ancestorTitles":["PositionRepository","bulkClose"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository bulkClose should close with custom pnl","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766584,"status":"passed","title":"should close with custom pnl"},{"ancestorTitles":["PositionRepository","bulkClose"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository bulkClose should return 0 when no positions matched","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766585,"status":"passed","title":"should return 0 when no positions matched"},{"ancestorTitles":["PositionRepository","bulkClose"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository bulkClose should exclude soft-deleted positions","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766585,"status":"passed","title":"should exclude soft-deleted positions"},{"ancestorTitles":["PositionRepository","bulkSoftDelete"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository bulkSoftDelete should soft-delete multiple positions","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766585,"status":"passed","title":"should soft-delete multiple positions"},{"ancestorTitles":["PositionRepository","bulkSoftDelete"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository bulkSoftDelete should return 0 when no positions matched","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766587,"status":"passed","title":"should return 0 when no positions matched"},{"ancestorTitles":["PositionRepository","bulkHardDelete"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository bulkHardDelete should permanently delete multiple positions","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766587,"status":"passed","title":"should permanently delete multiple positions"},{"ancestorTitles":["PositionRepository","bulkHardDelete"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository bulkHardDelete should return 0 when no positions matched","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766587,"status":"passed","title":"should return 0 when no positions matched"},{"ancestorTitles":["PositionRepository","bulkHardDelete"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PositionRepository bulkHardDelete should handle empty array","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766588,"status":"passed","title":"should handle empty array"}],"endTime":1772013766592,"message":"","name":"C:\\Users\\nakam\\Developers\\exodia-core\\src\\repositories\\position\\__tests__\\position.repository.spec.ts","startTime":1772013764696,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["WalletRepository","find"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository find should return wallet by address and chainId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766501,"status":"passed","title":"should return wallet by address and chainId"},{"ancestorTitles":["WalletRepository","find"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository find should return null when wallet not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766509,"status":"passed","title":"should return null when wallet not found"},{"ancestorTitles":["WalletRepository","findById"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository findById should return wallet by MongoDB _id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766511,"status":"passed","title":"should return wallet by MongoDB _id"},{"ancestorTitles":["WalletRepository","findById"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository findById should return null when id does not exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766512,"status":"passed","title":"should return null when id does not exist"},{"ancestorTitles":["WalletRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository findAll should return paginated results with default params","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766513,"status":"passed","title":"should return paginated results with default params"},{"ancestorTitles":["WalletRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository findAll should apply walletAddress filter (lowercased)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766515,"status":"passed","title":"should apply walletAddress filter (lowercased)"},{"ancestorTitles":["WalletRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository findAll should apply chainId filter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766516,"status":"passed","title":"should apply chainId filter"},{"ancestorTitles":["WalletRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository findAll should apply minBalance and maxBalance filters","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766517,"status":"passed","title":"should apply minBalance and maxBalance filters"},{"ancestorTitles":["WalletRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository findAll should apply only minBalance when maxBalance is absent","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766518,"status":"passed","title":"should apply only minBalance when maxBalance is absent"},{"ancestorTitles":["WalletRepository","findAll"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository findAll should calculate correct skip for page 3 with limit 10","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766520,"status":"passed","title":"should calculate correct skip for page 3 with limit 10"},{"ancestorTitles":["WalletRepository","count"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository count should count all wallets with empty filter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766521,"status":"passed","title":"should count all wallets with empty filter"},{"ancestorTitles":["WalletRepository","count"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository count should count wallets matching filter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766523,"status":"passed","title":"should count wallets matching filter"},{"ancestorTitles":["WalletRepository","upsert"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository upsert should upsert wallet with default values on insert","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766526,"status":"passed","title":"should upsert wallet with default values on insert"},{"ancestorTitles":["WalletRepository","deposit"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository deposit should deposit amount to balance and totalDeposited","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766528,"status":"passed","title":"should deposit amount to balance and totalDeposited"},{"ancestorTitles":["WalletRepository","deposit"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository deposit should lowercase wallet address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766530,"status":"passed","title":"should lowercase wallet address"},{"ancestorTitles":["WalletRepository","deposit"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository deposit should round deposit amount with precision","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766531,"status":"passed","title":"should round deposit amount with precision"},{"ancestorTitles":["WalletRepository","depositToTrade"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository depositToTrade should move funds from balance to tradeBalance with atomic guard","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766533,"status":"passed","title":"should move funds from balance to tradeBalance with atomic guard"},{"ancestorTitles":["WalletRepository","depositToTrade"],"duration":46,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository depositToTrade should throw when balance is insufficient (modifiedCount 0)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766534,"status":"passed","title":"should throw when balance is insufficient (modifiedCount 0)"},{"ancestorTitles":["WalletRepository","depositToTrade"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository depositToTrade should decrease balance and increase tradeBalance","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766580,"status":"passed","title":"should decrease balance and increase tradeBalance"},{"ancestorTitles":["WalletRepository","withdrawFromTrade"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository withdrawFromTrade should move funds from tradeBalance back to balance with atomic guard","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766580,"status":"passed","title":"should move funds from tradeBalance back to balance with atomic guard"},{"ancestorTitles":["WalletRepository","withdrawFromTrade"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository withdrawFromTrade should throw when trade balance is insufficient (modifiedCount 0)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766581,"status":"passed","title":"should throw when trade balance is insufficient (modifiedCount 0)"},{"ancestorTitles":["WalletRepository","withdrawFromTrade"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository withdrawFromTrade should increase balance and decrease tradeBalance","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766582,"status":"passed","title":"should increase balance and decrease tradeBalance"},{"ancestorTitles":["WalletRepository","updateTradePnL"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository updateTradePnL should add positive PnL using aggregation pipeline with $max floor","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766587,"status":"passed","title":"should add positive PnL using aggregation pipeline with $max floor"},{"ancestorTitles":["WalletRepository","updateTradePnL"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository updateTradePnL should subtract negative PnL with $max floor at 0","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766587,"status":"passed","title":"should subtract negative PnL with $max floor at 0"},{"ancestorTitles":["WalletRepository","updateTradePnL"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository updateTradePnL should lowercase wallet address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766588,"status":"passed","title":"should lowercase wallet address"},{"ancestorTitles":["WalletRepository","withdraw"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository withdraw should withdraw from balance and increment totalWithdrawn","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766588,"status":"passed","title":"should withdraw from balance and increment totalWithdrawn"},{"ancestorTitles":["WalletRepository","withdraw"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository withdraw should throw when balance is insufficient","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766590,"status":"passed","title":"should throw when balance is insufficient"},{"ancestorTitles":["WalletRepository","withdraw"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository withdraw should round withdrawal amount with precision","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766591,"status":"passed","title":"should round withdrawal amount with precision"},{"ancestorTitles":["WalletRepository","withdraw"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository withdraw should lowercase wallet address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766592,"status":"passed","title":"should lowercase wallet address"},{"ancestorTitles":["WalletRepository","setBalance"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository setBalance should set balance directly with $set","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766593,"status":"passed","title":"should set balance directly with $set"},{"ancestorTitles":["WalletRepository","setBalance"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository setBalance should return null when wallet does not exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766594,"status":"passed","title":"should return null when wallet does not exist"},{"ancestorTitles":["WalletRepository","setBalance"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository setBalance should round the new balance value","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766595,"status":"passed","title":"should round the new balance value"},{"ancestorTitles":["WalletRepository","setTradeBalance"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository setTradeBalance should set tradeBalance directly with $set","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766596,"status":"passed","title":"should set tradeBalance directly with $set"},{"ancestorTitles":["WalletRepository","setTradeBalance"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository setTradeBalance should return null when wallet does not exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766597,"status":"passed","title":"should return null when wallet does not exist"},{"ancestorTitles":["WalletRepository","setTradeBalance"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository setTradeBalance should lowercase wallet address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766598,"status":"passed","title":"should lowercase wallet address"},{"ancestorTitles":["WalletRepository","adjustBalance"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository adjustBalance should use aggregation pipeline with $max floor to adjust balance","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766598,"status":"passed","title":"should use aggregation pipeline with $max floor to adjust balance"},{"ancestorTitles":["WalletRepository","adjustBalance"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository adjustBalance should handle negative delta (subtract)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766599,"status":"passed","title":"should handle negative delta (subtract)"},{"ancestorTitles":["WalletRepository","adjustBalance"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository adjustBalance should return null when wallet not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766599,"status":"passed","title":"should return null when wallet not found"},{"ancestorTitles":["WalletRepository","adjustTradeBalance"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository adjustTradeBalance should use aggregation pipeline with $max floor to adjust tradeBalance","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766600,"status":"passed","title":"should use aggregation pipeline with $max floor to adjust tradeBalance"},{"ancestorTitles":["WalletRepository","adjustTradeBalance"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository adjustTradeBalance should handle negative delta (subtract)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766601,"status":"passed","title":"should handle negative delta (subtract)"},{"ancestorTitles":["WalletRepository","adjustTradeBalance"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository adjustTradeBalance should return null when wallet not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766601,"status":"passed","title":"should return null when wallet not found"},{"ancestorTitles":["WalletRepository","updateWallet"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository updateWallet should update partial wallet data with $set","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766602,"status":"passed","title":"should update partial wallet data with $set"},{"ancestorTitles":["WalletRepository","updateWallet"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository updateWallet should allow updating a single field","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766602,"status":"passed","title":"should allow updating a single field"},{"ancestorTitles":["WalletRepository","updateWallet"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository updateWallet should return null when wallet not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766603,"status":"passed","title":"should return null when wallet not found"},{"ancestorTitles":["WalletRepository","updateWallet"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository updateWallet should lowercase wallet address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766603,"status":"passed","title":"should lowercase wallet address"},{"ancestorTitles":["WalletRepository","resetTotals"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository resetTotals should reset totalDeposited and totalWithdrawn to 0","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1772013766604,"status":"passed","title":"should reset totalDeposited and totalWithdrawn to 0"},{"ancestorTitles":["WalletRepository","resetTotals"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository resetTotals should return null when wallet not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766605,"status":"passed","title":"should return null when wallet not found"},{"ancestorTitles":["WalletRepository","resetTotals"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository resetTotals should lowercase wallet address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766605,"status":"passed","title":"should lowercase wallet address"},{"ancestorTitles":["WalletRepository","deleteWallet"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository deleteWallet should return true when wallet is deleted","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1772013766606,"status":"passed","title":"should return true when wallet is deleted"},{"ancestorTitles":["WalletRepository","deleteWallet"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository deleteWallet should return false when wallet does not exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766606,"status":"passed","title":"should return false when wallet does not exist"},{"ancestorTitles":["WalletRepository","deleteWallet"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WalletRepository deleteWallet should lowercase wallet address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1772013766607,"status":"passed","title":"should lowercase wallet address"}],"endTime":1772013766611,"message":"","name":"C:\\Users\\nakam\\Developers\\exodia-core\\src\\repositories\\wallet\\__tests__\\wallet.repository.spec.ts","startTime":1772013764638,"status":"passed","summary":""}],"wasInterrupted":false}
